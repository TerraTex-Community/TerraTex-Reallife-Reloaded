isBootCo={[472]=true,[473]=true,[493]=true,[484]=true,[595]=true,[430]=true,[453]=true,[452]=true,[446]=true,[454]=true}isTrainCo={[537]=true,[538]=true}isPlaneHeliCo={[592]=true,[577]=true,[511]=true,[512]=true,[593]=true,[553]=true,[519]=true,[460]=true,[513]=true,[520]=true}local function applyInverseRotation ( x,y,z, rx,ry,rz )    -- Degress to radians    local DEG2RAD = (math.pi * 2) / 360    rx = rx * DEG2RAD    ry = ry * DEG2RAD    rz = rz * DEG2RAD     -- unrotate each axis    local tempY = y    y =  math.cos ( rx ) * tempY + math.sin ( rx ) * z    z = -math.sin ( rx ) * tempY + math.cos ( rx ) * z     local tempX = x    x =  math.cos ( ry ) * tempX - math.sin ( ry ) * z    z =  math.sin ( ry ) * tempX + math.cos ( ry ) * z     tempX = x    x =  math.cos ( rz ) * tempX + math.sin ( rz ) * y    y = -math.sin ( rz ) * tempX + math.cos ( rz ) * y     return x, y, zendlocal function attachRotationAdjusted ( from, to )    -- Note: Objects being attached to ('to') should have at least two of their rotations set to zero    --       Objects being attached ('from') should have at least one of their rotations set to zero    -- Otherwise it will look all funny     local frPosX, frPosY, frPosZ = getElementPosition( from )    local frRotX, frRotY, frRotZ = getElementRotation( from )    local toPosX, toPosY, toPosZ = getElementPosition( to )    local toRotX, toRotY, toRotZ = getElementRotation( to )    local offsetPosX = frPosX - toPosX    local offsetPosY = frPosY - toPosY    local offsetPosZ = frPosZ - toPosZ    local offsetRotX = frRotX - toRotX    local offsetRotY = frRotY - toRotY    local offsetRotZ = frRotZ - toRotZ     offsetPosX, offsetPosY, offsetPosZ = applyInverseRotation ( offsetPosX, offsetPosY, offsetPosZ, toRotX, toRotY, toRotZ )     attachElements( from, to, offsetPosX, offsetPosY, offsetPosZ, offsetRotX, offsetRotY, offsetRotZ )end  function bind_beifahrer_boot()bindKey ( "g","down",checkBeiFahrerAndAttachIt)bindKey ("next_weapon","down",giveNextWeaponAtAttached)bindKey("previous_weapon","down",giveLastWeaponAtAttached)endaddEventHandler("onClientResourceStart",getResourceRootElement(getThisResource()),bind_beifahrer_boot)local lastWSlot=falselocal isBootCoveh=falsefunction checkBeiFahrerAndAttachIt()	local veh=getPedContactElement ( getLocalPlayer())	if(veh)then        if(getElementType(veh)=="vehicle")then            if(not getElementData(veh,"locked") and not getElementData(veh,"isAutohausVehicle"))then                if(isBootCo[getElementModel(veh)])or(isPlaneHeliCo[getElementModel(veh)])or(isTrainCo[getElementModel(veh)])then                    if(isBootCoveh)then                        isBootCoveh=false                        detachElements ( getLocalPlayer() ,veh)                    else                        isBootCoveh=veh                            setElementFrozen(veh,true)                        lastWSlot=getPedWeaponSlot ( getLocalPlayer() )                        local x,y,z=getElementPosition(veh)                        local px,py,pz=getElementPosition(getLocalPlayer())                        --attachElements ( getLocalPlayer(),veh, px-x,py-y,pz-z)                        attachRotationAdjusted(getLocalPlayer(),veh)                        setPedWeaponSlot(getLocalPlayer(),lastWSlot)                            setElementFrozen(veh,false)                        triggerServerEvent("setElementCollisionsEnabled_Event",getLocalPlayer(),false)                    end                end            end        end	else		if(isBootCoveh)then						isBootCoveh=false			detachElements ( getLocalPlayer() ,veh)			triggerServerEvent("setElementCollisionsEnabled_Event",getLocalPlayer(),true)		end	endendfunction giveNextWeaponAtAttached()	if(isBootCoveh)then		lastWSlot=lastWSlot+1		if(lastWSlot>12)then			lastWSlot=0		end		if(lastWSlot~=0)then			if(getPedWeapon ( getLocalPlayer(), lastWSlot )>0)then				if(getPedTotalAmmo (  getLocalPlayer(), lastWSlot )>0)then									setPedWeaponSlot ( getLocalPlayer(),lastWSlot )				else					giveNextWeaponAtAttached()				end			else				giveNextWeaponAtAttached()			end		else			setPedWeaponSlot ( getLocalPlayer(),lastWSlot )		end	endendfunction giveLastWeaponAtAttached()	if(isBootCoveh)then		lastWSlot=lastWSlot-1		if(lastWSlot<0)then			lastWSlot=12		end		if(lastWSlot~=0)then			if(getPedWeapon ( getLocalPlayer(), lastWSlot )>0)then				if(getPedTotalAmmo (  getLocalPlayer(), lastWSlot )>0)then									setPedWeaponSlot ( getLocalPlayer(),lastWSlot )				else					giveLastWeaponAtAttached()				end			else				giveLastWeaponAtAttached()			end		else			setPedWeaponSlot ( getLocalPlayer(),lastWSlot )		end	endendfunction onRustlerShoot(player)	if(player==source)then		destroyElement(source)	endendaddEventHandler("onClientProjectileCreation",getRootElement(),onRustlerShoot)